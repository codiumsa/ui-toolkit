<div class="{{ vm.classes }} has-feedback" ng-class="{ 'has-error' : vm.form[vm.name].$invalid && ((!vm.focus && vm.form[vm.name].$touched) || vm.submittedFlag), 'has-success' : !vm.form[vm.name].$invalid && ((!vm.focus && vm.form[vm.name].$touched) || vm.submittedFlag) }">
  <label ng-if="vm.label" for="{{vm.name}}" ng-class="{ 'help-block' : vm.form[vm.name].$invalid &&((!vm.focus && vm.form[vm.name].$touched)|| vm.submittedFlag), 'custom-success': !vm.form[vm.name].$invalid && (vm.form[vm.name].$touched || vm.submittedFlag)}">{{vm.label}} {{vm.isRequired ? '*' : ''}}</label>
  <div class="input-group" style="width: 100%;">
    <input type="text" name="{{vm.name}}" id="{{vm.name}}" ng-model="vm.model" ng-required="vm.isRequired" class="form-control"
      ng-disabled="vm.isDisabled" ng-focus="vm.onFocus()" ng-blur="vm.blur()" />
    <div class="datepicker-theme dropdown-menu" dropdown-nested ng-if="vm.opened" style="display: block; width:auto;" ng-style="{top: position.top+'px', left: position.left+'px'}"
      ng-keydown="vm.keydown($event)" ng-click="$event.stopPropagation()">
      <div uib-timepicker ng-model="vm.date" ng-change="vm.updateListener()" show-meridian="false" ng-focus="vm.onFocus()" style="padding-right: 20px; padding-left: 20px;"></div>
      <li class="uib-button-bar">
        <span class="btn-group pull-left">
		      <button type="button" class="btn btn-sm btn-info" ng-click="vm.today()">Ahora</button>
		      <button type="button" class="btn btn-sm btn-danger" ng-disabled="vm.isDisabled" ng-click="vm.clear()">Borrar</button>
		    </span>
        <button type="button" class="btn btn-sm btn-success pull-right" ng-click="vm.close()">Cerrar</button>
      </li>
    </div>
    <span ng-if="(!vm.focus && vm.form[vm.name].$touched)|| vm.submittedFlag" class="feedback-datepicker form-control-feedback glyphicon"
      ng-class="{'glyphicon': true, 'glyphicon-ok': !vm.form[vm.name].$invalid && ((!vm.focus && vm.form[vm.name].$touched)|| vm.submittedFlag), 'glyphicon-remove': vm.form[vm.name].$invalid && ((!vm.focus && vm.form[vm.name].$touched)|| vm.submittedFlag) }"
      aria-hidden="true"></span>
    <span class="datepicker-btn input-group-btn">
			<button type="button" class="btn btn-default form-control" ng-disabled="vm.isDisabled" ng-click="vm.open()">
			<i class="glyphicon glyphicon-time"></i></button>
		</span>
  </div>

  <div ng-show="vm.form[vm.name].$invalid && ((!vm.focus && vm.form[vm.name].$touched)|| vm.submittedFlag)" class="help-block">El campo es obligatorio</div>
</div>