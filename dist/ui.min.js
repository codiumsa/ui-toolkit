"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.module("ui.config",[]).value("ui.config",{debug:!0}),e.module("ui.directives",[]),e.module("ui.filters",[]),e.module("ui.services",[]),e.module("ui",["ui.config","ui.directives","ui.filters","ui.services","ngResource","ngCookies","ngSanitize","ngTouch","datatables","datatables.bootstrap","schemaForm","pascalprecht.translate","cgNotify","angular-underscore/filters","flow","ui.bootstrap","ui.select","ui.highlight","ncy-angular-breadcrumb","ui.router","oc.lazyLoad","ngStorage","datatables.buttons","datatables.colreorder","daterangepicker","rangepicker","ngWebSocket","pickadate","ngAnimate","ngMessages","ngResource","angularSpinner","ngTagsInput","angular-ladda","perfect_scrollbar","angular-intro","datatables.colreorder","ngNotify","ngclipboard"]),e.module("ui").config(["$provide",function(e){e.decorator("uibYearpickerDirective",["$delegate",function(e){var t=e[0];return t.templateUrl="views/datepicker/year.html",e}]),e.decorator("uibMonthpickerDirective",["$delegate",function(e){var t=e[0];return t.templateUrl="views/datepicker/month.html",e}]),e.decorator("uibDaypickerDirective",["$delegate",function(e){var t=e[0];return t.templateUrl="views/datepicker/day.html",e}])}]),e.module("ui").config(["flowFactoryProvider","baseurlProvider","CONFIGURATION",function(e,t,n){t.setConfig(n),e.defaults={method:"octet",target:t.$get().getBaseUrl()+"/adjuntos"}}]),e.module("ui").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,n){t.addMapping("bootstrapDecorator","customcheckbox","views/custom-checkbox.html"),t.addMapping("bootstrapDecorator","switch","views/custom-checkbox-switch.html");var i=function(t,i,o){if("string"===i.type&&("date"===i.format||"date-time"===i.format)){var s=e.stdFormObj(t,i,o);return s.key=o.path,s.type="datepicker",o.lookup[n.stringify(o.path)]=s,s}};e.defaults.string.unshift(i),t.addMapping("bootstrapDecorator","datepicker","views/datepicker.html"),t.createDirective("datepicker","views/datepicker.html")}])}(angular),function(){angular.module("ui").controller("BasicController",["$rootScope","$scope","formFactory","$location","$state","$injector",function(e,t,n,i,o,s){function r(){if(!n.canCreate(t.resources)){var e=s.get("notify");e({message:"No tiene permiso de creación",classes:["alert-danger"],position:"right"}),i.path("/")}t.title=t.newProperties.title,t.form=t.factory.form("new"),t.model={},t.schema.readonly=!1}function a(){if(!n.canEdit(t.resources)){var e=s.get("notify");e({message:"No tiene permiso de edición",classes:["alert-danger"],position:"right"}),i.path("/")}t.model=t.prepService,t.entidadId=t.model.id,t.entidad=t.editProperties.entidad,t.form=t.factory.form("edit"),t.title=t.editProperties.title,t.schema.readonly=!1}function l(){if(!n.canList(t.resources)){var e=s.get("notify");e({message:"No tiene permiso de vista",classes:["alert-danger"],position:"right"}),i.path("/")}t.options=n.defaultViewOptions(),t.model=t.prepService,t.entidadId=t.model.id,t.entidad=t.viewProperties.entidad,t.form=t.factory.form("view"),t.title=t.viewProperties.title,t.view=!0,t.schema.readonly=!0}t.activate=function(){t.schema=t.factory.schema(),t.options=n.defaultOptions(),o.is(t.newProperties.state)?r():o.is(t.editProperties.state)?a():o.is(t.viewProperties.state)&&l(),e.isProcessing=!1},t.submit=function(e){n.defaultSubmit(t.resource,t,e,t.factory)},t.cancel=function(){i.path("/"+t.resource)}}])}(),function(){function e(e){angular.module("ui").config(["ConfigProvider","flowFactoryProvider","baseurlProvider",function(t,n,i){n.defaults={method:"octet",target:e.serverURL+"/adjuntos"},t.config(e),i.setConfig(e)}]),angular.module("ui").constant("CONFIGURATION",{serverName:e.serverName,serverIp:e.serverIp,serverPort:e.serverPort,serverAPI:e.serverAPI})}function t(t){$.getJSON("config.json",function(n){e(n),angular.isFunction(t)&&t(n),angular.bootstrap("#"+n.appId,[n.appModule])})}window.ui=window.ui||{},window.ui.bs={},window.ui.bs.bootstrap=t,window.ui.bs.configure=e}(),angular.module("ui.highlight",[]).filter("highlight",function(){return function(e,t,n){return e&&(t||angular.isNumber(t))?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,o=this.length;++i<o&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function i(e){function t(e){return j[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function o(e,t){for(var n=0,i=t.length;i>n;n+=1)if(r(e,t[n]))return n;return-1}function s(){var t=e(N);t.appendTo(document.body);var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function r(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function a(e,t,n){var i,o,s;if(null===e||e.length<1)return[];for(i=e.split(t),o=0,s=i.length;s>o;o+=1)i[o]=n(i[o]);return i}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var o=e.data(n,i);o!==t&&n.val()!==o&&(e.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=M;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function h(e,n,i){i=i||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,t)},e)}}function d(e,t){var n=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){o(e.target,t.get())>=0&&n(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus();var o=n.offsetWidth>0||n.offsetHeight>0;o&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var o=document.selection.createRange();i=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),n=o.text.length-i}return{offset:n,length:i}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!F){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);F=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),F.attr("class","select2-sizer"),e(document.body).append(F)}return F.text(t.val()),F.width()}function b(t,n,i){var o,s,r=[];o=e.trim(t.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),o=e.trim(n.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(s=i(this),s&&r.push(s))})),t.attr("class",r.join(" "))}function w(e,t,n,o){var s=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),r=t.length;return 0>s?(n.push(o(e)),void 0):(n.push(o(e.substring(0,s))),n.push("<span class='select2-match'>"),n.push(o(e.substring(s,s+r))),n.push("</span>"),n.push(o(e.substring(s+r,e.length))),void 0)}function y(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(n){var i,o=null,s=n.quietMillis||100,r=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,s=r,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,s="function"==typeof s?s.call(a,l.term,l.page,l.context):s,o&&"function"==typeof o.abort&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(h,n.params.call(a)):e.extend(h,n.params)),e.extend(h,{url:s,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(i)}}),o=c.call(a,h)},s)}}function S(t){var n,i,o=t,s=function(e){return""+e.text};e.isArray(o)&&(i=o,o={results:i}),e.isFunction(o)===!1&&(i=o,o=function(){return i});var r=o();return r.text&&(s=r.text,e.isFunction(s)||(n=r.text,s=function(e){return e[n]})),function(t){var n,i=t.term,r={results:[]};return""===i?(t.callback(o()),void 0):(n=function(o,r){var a,l;if(o=o[0],o.children){a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);a.children=[],e(o.children).each2(function(e,t){n(t,a.children)}),(a.children.length||t.matcher(i,s(a),o))&&r.push(a)}else t.matcher(i,s(o),o)&&r.push(o)},e(o().results).each2(function(e,t){n(t,r.results)}),t.callback(r),void 0)}}function O(n){var i=e.isFunction(n);return function(o){var s=o.term,r={results:[]},a=i?n(o):n;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,n=e?this.text:this;(""===s||o.matcher(s,n))&&r.results.push(e?this:{id:this,text:this})}),o.callback(r))}}function x(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function k(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function T(t){var n=0;return e.each(t,function(e,t){t.children?n+=T(t.children):n++}),n}function E(e,n,i,o){var s,a,l,c,u,h=e,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(s=e.substring(0,a),e=e.substring(a+u.length),s.length>0&&(s=o.createSearchChoice.call(this,s,n),s!==t&&null!==s&&o.id(s)!==t&&null!==o.id(s))){for(d=!1,l=0,c=n.length;c>l;l++)if(r(o.id(s),o.id(n[l]))){d=!0;break}d||i(s)}}return h!==e?e:void 0}function $(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function R(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var I,A,D,P,F,_,L,M={x:0,y:0},U={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case U.SHIFT:case U.CTRL:case U.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},N="<div class='select2-measure-scrollbar'></div>",j={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R","Ꞧ":"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r","ꞧ":"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s","ꞩ":"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ω:"ω",ς:"σ"};_=e(document),P=function(){var e=1;return function(){return e++}}(),I=R(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,o,r=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+P()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(k(n.containerCss,this.opts.element)),this.container.addClass(k(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(r),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,o){var s=i.scrollTop();o>0&&0>=s-o?(i.scrollTop(0),m(e)):0>o&&i.get(0).scrollHeight-i.scrollTop()+o<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(e))}),c(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),L=L||s(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&i._sync&&e.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),$.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:r(e.attr("locked"),"locked")||r(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,o,s,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,o,s){var r,a=this.opts.id,l=this.liveRegion;r=function(i,o,u){var h,d,p,f,m,g,v,b,w,y;i=n.sortResults(i,o,s);var C=[];for(h=0,d=i.length;d>h;h+=1)p=i[h],m=p.disabled===!0,f=!m&&a(p)!==t,g=p.children&&p.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(p)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+P()),b.attr("role","option"),y=n.formatResult(p,b,s,c.opts.escapeMarkup),y!==t&&(b.html(y),v.append(b)),g&&(w=e("<ul></ul>"),w.addClass("select2-result-sub"),r(p.children,w,u+1),v.append(w)),v.data("select2-data",p),C.push(v[0]);o.append(C),l.text(n.formatMatches(i.length))},r(o,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(e){var n,o,s,r={results:[],more:!1},a=e.term;s=function(t,n){var i;t.is("option")?e.matcher(a,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){s(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(o=this.getPlaceholderOption(),o&&(n=n.not(o))),n.each2(function(e,t){s(t,r.results)}),e.callback(r)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=C.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=O(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var o=[];e(a(t.val(),n.separator,n.transformVal)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return r(this.id,t.id)?(t=this,!1):void 0}),o.push(t)}),i(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,o=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",o._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,o._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,i,o,s,r=this.dropdown,a=this.container,l=a.offset(),c=a.outerHeight(!1),u=a.outerWidth(!1),h=r.outerHeight(!1),d=e(window),p=d.width(),f=d.height(),m=d.scrollLeft()+p,g=d.scrollTop()+f,v=l.top+c,b=l.left,w=g>=v+h,y=l.top-h>=d.scrollTop(),C=r.outerWidth(!1),S=function(){return m>=b+C},O=function(){return l.left+m+a.outerWidth(!1)>C},x=r.hasClass("select2-drop-above");x?(n=!0,!y&&w&&(i=!0,n=!1)):(n=!1,!w&&y&&(i=!0,n=!0)),i&&(r.hide(),l=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),h=r.outerHeight(!1),m=d.scrollLeft()+p,g=d.scrollTop()+f,v=l.top+c,b=l.left,C=r.outerWidth(!1),r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(s=e(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),C=r.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:L.width),C>u?u=C:C=u,h=r.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,b-=t.left),!S()&&O()&&(b=l.left+this.container.outerWidth(!1)-C),o={left:b,width:u},n?(o.top=l.top-h,o.bottom="auto",this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(o.top=v,o.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),o=e.extend(o,k(this.opts.dropdownCss,this.opts.element)),r.css(o)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),_.on("mousemove.select2Event",function(e){M.x=e.pageX,M.y=e.pageY}),!0):!1},opening:function(){var t,i=this.containerEventName,o="scroll."+i,s="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){n(t);var o,s=e("#select2-drop");s.length>0&&(o=s.data("select2"),o.opts.selectOnBlur&&o.selectHighlighted({noFocus:!0}),o.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(s+" "+o+" "+r,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),_.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,o,s,r,a,l,c=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return c.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),l=(i.offset()||{}).top||0,o=l+i.outerHeight(!0),n===t.length-1&&(a=c.find("li.select2-more-results"),a.length>0&&(o=a.offset().top+a.outerHeight(!0))),s=c.offset().top+c.outerHeight(!1),o>s&&c.scrollTop(c.scrollTop()+(o-s)),r=l-c.offset().top,0>r&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var o=e(n[i]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,s=this.findHighlightableChoices();return 0===arguments.length?o(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),n=e(s[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()
},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,o=this,s=this.search.val(),r=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:s,page:i,context:r}),o.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).html(o.opts.escapeMarkup(k(o.opts.formatLoadMore,o.opts.element,i+1))),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=i,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),d.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(u.text()):d.liveRegion.text(d.opts.formatMatches(u.find('.select2-result-selectable:not(".select2-selected")').length))}function o(e){u.html(e),i()}var s,a,l,c=this.search,u=this.results,h=this.opts,d=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!r(p,f))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(s=this.data(),e.isArray(s)&&s.length>=m&&x(h.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+k(h.formatSelectionTooBig,h.element,m)+"</li>"),void 0;if(c.val().length<h.minimumInputLength)return x(h.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+k(h.formatInputTooShort,h.element,c.val(),h.minimumInputLength)+"</li>"):o(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return x(h.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+k(h.formatInputTooLong,h.element,c.val(),h.maximumInputLength)+"</li>"):o(""),void 0;h.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+k(h.formatSearching,h.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&c.val(a),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(s){var a;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(s.hasError!==t&&x(h.formatAjaxError,"formatAjaxError"))return o("<li class='select2-ajax-error'>"+k(h.formatAjaxError,h.element,s.jqXHR,s.textStatus,s.errorThrown)+"</li>"),void 0;if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),s.results),a!==t&&null!==a&&d.id(a)!==t&&null!==d.id(a)&&0===e(s.results).filter(function(){return r(d.id(this),d.id(a))}).length&&this.opts.createSearchChoicePosition(s.results,a)),0===s.results.length&&x(h.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+k(h.formatNoMatches,h.element,c.val())+"</li>"),void 0;u.empty(),d.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&x(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+h.escapeMarkup(k(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){if(this._touchMoved)return this.clearTouchMoved(),void 0;var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,o,s,r,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),s=0,r=i.length;r>s;s+=1)if(a=i[s].replace(/\s/g,""),o=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),A=R(I,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(o=this.search.val().length,n.setSelectionRange(o,o))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"selection","focusser")},initContainer:function(){var t,i,o=this.container,s=this.dropdown,r=P();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=o.find(".select2-choice"),this.focusser=o.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===U.PAGE_UP||e.which===U.PAGE_DOWN)return m(e),void 0;switch(e.which){case U.UP:case U.DOWN:return this.moveHighlight(e.which===U.UP?-1:1),m(e),void 0;case U.ENTER:return this.selectHighlighted(),m(e),void 0;case U.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case U.ESC:return this.cancel(e),m(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==U.TAB&&!U.isControl(e)&&!U.isFunctionKey(e)&&e.which!==U.ESC){if(this.opts.openOnEnter===!1&&e.which===U.ENTER)return m(e),void 0;if(e.which==U.DOWN||e.which==U.UP||e.which==U.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),m(e),void 0}return e.which==U.DELETE||e.which==U.BACKSPACE?(this.opts.allowClear&&this.clear(),m(e),void 0):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(i)})),s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=n.val(),s=null;t.query({matcher:function(e,n,i){var a=r(o,t.id(i));return a&&(s=i),a},callback:e.isFunction(i)?function(){i(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return r(o.id(t.data("select2-data")),o.opts.element.val())?(i=e,!1):void 0}),n!==!1&&(t===!0&&i>=0?this.highlight(i):this.highlight(0)),t===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(T(e.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(n=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),n!==t&&o.append(n),i=this.opts.formatSelectionCssClass(e,o),i!==t&&o.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function H(){var H,e=!1,n=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(H=arguments[0],arguments.length>1&&(e=arguments[1]),this.select)this.select.val(H).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=i.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),e&&this.triggerChange({added:n,removed:o});else{if(!H&&0!==H)return this.clear(e),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(H),this.opts.initSelection(this.opts.element,function(t){i.opts.element.val(t?i.id(t):""),i.updateSelection(t),i.setPlaceholder(),e&&i.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function B(e){var B,n=!1;return 0===arguments.length?(B=this.selection.data("select2-data"),B==t&&(B=null),B):(arguments.length>1&&(n=arguments[1]),e?(B=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:B})):this.clear(n),void 0)}}),D=R(I,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=a(n.val(),t.separator,t.transformVal),s=[];t.query({matcher:function(n,i,a){var l=e.grep(o,function(e){return r(e,t.id(a))}).length;return l&&s.push(a),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<o.length;n++)for(var a=o[n],l=0;l<s.length;l++){var c=s[l];if(r(a,t.id(c))){e.push(c),s.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+P()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),s=f(this.search);if(n.length&&(e.which==U.LEFT||e.which==U.RIGHT||e.which==U.BACKSPACE||e.which==U.DELETE||e.which==U.ENTER)){var r=n;return e.which==U.LEFT&&i.length?r=i:e.which==U.RIGHT?r=o.length?o:null:e.which===U.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),r=i.length?i:o):e.which==U.DELETE?this.unselect(n.first())&&(this.search.width(10),r=o.length?o:null):e.which==U.ENTER&&(r=null),this.selectChoice(r),m(e),r&&r.length||this.open(),void 0}if((e.which===U.BACKSPACE&&1==this.keydowns||e.which==U.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),m(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case U.UP:case U.DOWN:return this.moveHighlight(e.which===U.UP?-1:1),m(e),void 0;case U.ENTER:return this.selectHighlighted(),m(e),void 0;case U.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case U.ESC:return this.cancel(e),m(e),void 0}if(e.which!==U.TAB&&!U.isControl(e)&&!U.isFunctionKey(e)&&e.which!==U.BACKSPACE&&e.which!==U.ESC){if(e.which===U.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===U.PAGE_UP||e.which===U.PAGE_DOWN)&&m(e),e.which===U.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],s=this;e(t).each(function(){o(s.id(this),n)<0&&(n.push(s.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,o,s=!n.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?r:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith(e("<div></div>").html(i)),o=this.opts.formatSelectionCssClass(n,l.find("div")),o!=t&&l.addClass(o),s&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var r=e.Event("select2-removing");if(r.val=this.id(n),r.choice=n,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(i=o(this.id(n),s))>=0;)s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),s=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;s.each2(function(e,t){var n=a.id(t.data("select2-data"));o(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&this.opts.closeOnSelect===!0&&a.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&x(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+k(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,i,o,s=l(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,o=n-(t-i)-s,e>o&&(o=n-s),40>o&&(o=n-s),0>=o&&(o=e),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){o(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var o,s=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:o}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),i&&s.triggerChange(s.buildChangeDetails(o,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,o,s=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),t||(t=[]),i=e.map(t,function(e){return s.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),e.fn.select2=function(){var n,i,s,r,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"===_typeof(l[0]))n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(o(l[0],c)<0)throw"Unknown method: "+l[0];if(r=t,i=e(this).data("select2"),i===t)return;if(s=l[0],"container"===s?r=i.container:"dropdown"===s?r=i.dropdown:(d[s]&&(s=d[s]),r=i[s].apply(i,l.slice(1))),o(l[0],u)>=0||o(l[0],h)>=0&&1==l.length)return!1}}),r===t?this:r},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var o=[];return w(this.text(e),n.term,o,i),o.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,n,i){return e?i(this.text(e)):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t?e.opts.minimumResultsForSearch<0?!1:!0:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results…"
},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:S,tags:O},util:{debounce:h,markMatch:w,escapeMarkup:y,stripDiacritics:i},"class":{"abstract":I,single:A,multi:D}}}}(jQuery),function(e){e.fn.select2.locales.es={formatMatches:function(e){return 1===e?"Un resultado disponible, presione enter para seleccionarlo.":e+" resultados disponibles, use las teclas de dirección para navegar."},formatNoMatches:function(){return"No se encontraron resultados"},formatInputTooShort:function(e,t){var n=t-e.length;return"Por favor, introduzca "+n+" car"+(1==n?"ácter":"acteres")},formatInputTooLong:function(e,t){var n=e.length-t;return"Por favor, elimine "+n+" car"+(1==n?"ácter":"acteres")},formatSelectionTooBig:function(e){return"Sólo puede seleccionar "+e+" elemento"+(1==e?"":"s")},formatLoadMore:function(){return"Cargando más resultados…"},formatSearching:function(){return"Buscando…"},formatAjaxError:function(){return"La carga falló"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.es)}(jQuery),function(){angular.module("ui").directive("aDisabled",function(){return{compile:function(e,t){return t.ngClick="!("+t.aDisabled+") && ("+t.ngClick+")",function(e,t,n){e.$watch(n.aDisabled,function(e){void 0!==e&&t.toggleClass("disabled",e)}),t.on("click",function(t){e.$eval(n.aDisabled)&&t.preventDefault()})}}}}),angular.module("ui").directive("uiRequired",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.required=function(e,t){return!(t&&0===t.length&&"true"===n.uiRequired)},n.$observe("uiRequired",function(){i.$setValidity("required",!("true"===n.uiRequired&&i.$viewValue&&0===i.$viewValue.length))})}}})}(),function(){function e(){function e(e){e.vm.multipleSelection=angular.isDefined(e.vm.multipleSelection)?e.vm.multipleSelection:!1}var n={restrict:"E",controllerAs:"vm",scope:{model:"=",options:"=",factory:"=",disabledBtn:"=",multipleSelection:"=?",size:"@",serializationView:"@",style:"@"},bindToController:!0,templateUrl:"views/directives/advanced-datatables-search.html",link:e,controller:t};return n}function t(e,t,n,i){function o(){l.modalInstance=void 0}function s(e){l.model=l.factory.get(e,l.serializationView),l.modalInstance&&l.modalInstance.close()}function r(){l.modalInstance=n.open({templateUrl:"views/datatables-modal.html",scope:t,size:"lg"})}function a(){var e=_.filter(_.map(l.options.selection,function(e,t){return 1==e?parseInt(t):!1}),function(e){return e});l.model=_.map(e,function(e){return l.factory.get(e,l.serializationView)}),l.modalInstance&&l.modalInstance.close()}var l=this;l.size||(l.size="btn-xs"),l.valorScope="hola",l.pick=s,l.showSearch=r,l.addAll=a,l.multipleSelection?l.multipleSelection&&(l.options.isSelectable=!0,l.options.selection={},l.options.extraMenuOptions=[{title:"GSDG",icon:"glyphicon glyphicon-plus",showCondition:function(){return!0},action:function(){l.isProcesoImportacion?i.go("app.importaciones.proceso.ordenescompra.new"):i.go("app.orden_compra_importacion.new")}}]):l.options.extraRowOptions=[{templateToRender:"<button class='btn btn-primary' style='margin-right: 5px;' ng-click='pick(<%=dataId%>)'> <span class='glyphicon glyphicon-ok'></span> </button>",functionName:"pick",functionDef:function(e){l.pick(e)}}],l.options.hideAddMenu=!0,l.options.hideEditMenu=!0,l.options.hideRemoveMenu=!0,l.options.hideHeader=!0;o()}angular.module("ui").directive("advancedDatatablesSearch",e),t.$inject=["$log","$scope","$modal","$state"]}(),function(){function e(){return{restrict:"A",scope:!1,require:"ngModel",link:function(e,t,n,i){function o(e,t){function n(){return e!==t}!i.$touched&&n()&&i.$setTouched()}function s(){return angular.isDefined(n.multiple)}t.attr("theme",n.bindTheme),e.$parent.vm.form=i.$$parentForm,s()?e.$watchCollection(n.ngModel,o):e.$watch(n.ngModel,o)}}}angular.module("ui").directive("bindTheme",e)}(),function(){angular.module("ui").value("$datepickerSuppressError",!0).directive("pickDate",["$filter",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,o){moment.locale("es"),t.model[t.form.key[0]]&&(t.model[t.form.key[0]]=new Date(t.model[t.form.key[0]])),t.status={opened:!1},t.open=function(){t.status.opened=!0};var s="dd/MM/yyyy";o.$parsers.push(function(){return console.log(t.schema.formatDate),e("date")(n.val(),t.form.schema.formatDate||s)})}}}])}(),function(){function e(e,t){function n(t,n){if(this.options.FILE_UPLOAD_LIMIT&&t.size>1e3*this.options.FILE_UPLOAD_LIMIT*1e3)return n.preventDefault(),e.set("El tamaño del archivo supera el límite de "+this.options.FILE_UPLOAD_LIMIT+" MB.","error"),!1;var i=t.getExtension();return this.options.permitedExtensions&&this.options.permitedExtensions.length&&this.options.permitedExtensions.indexOf(i.toLowerCase())<0?(e.set("Solo se permiten archivos con extensión: "+this.options.permitedExtensions.join(", "),"error"),!1):this.options.imageOnly&&["png","gif","jpg","jpeg"].indexOf(i)<0?(e.set("Solo se permiten archivos con extensión: png, gif, jpg o jpeg.","error"),!1):t.name.length>255?(e.set("El nombre del archivo supera los 255 caracteres","error"),!1):void 0}function i(t){e.set("Archivo cargado correctamente","success");var t=this.getCurrentFiles(t);angular.isFunction(this.options.onComplete)&&this.options.onComplete(t),this.ngModelIgnoreSync=!0,this.ngModel=t}function o(e){var t=this,n=[];return e.length>0&&angular.forEach(e,function(e){n.push({path:t.getFilename(e)})}),n}function s(e){var t=this,n=this.uploader.flow;angular.forEach(e,function(e){var i=t.mimeTypeMap[e.path.toLowerCase().substring(_.lastIndexOf(e.path,".")+1)],o=new Blob(["pre_existing_image"],{type:i});o.name=e.path,o.image_url=t.options.publicPath+"/"+e.path;var s=new Flow.FlowFile(n,o);s.fromServer=!0,n.files.push(s)})}function r(e){if(e.fromServer)return e.name;var t=e.size+"-"+e.name;return t=t.replace(/[^a-zA-Z\/-_\\.0-9]+/g,""),t=t.replace(/\s/g,"")}function a(e){e.cancel();var n={flowFilename:this.getFilename(e)};t.delete(this.options.target,{params:n}).then(this.options.onDelete,this.options.onDeleteError)}return{templateUrl:"views/fileupload.html",restrict:"E",tranclude:!0,scope:{options:"=",title:"@",ngModel:"=",disabled:"="},link:function(e,t,l){var c={singleFile:!1,method:"octet",showFilesSummary:!1};c.target=e.options.target,e.uploader={},e.title=l.title,e.fileModel={},e.progressWith=function(e){return 100*e+"%"},e.files=[],e.adjuntosBaseURL=e.options.publicPath,e.options.onDelete=e.options.onDelete||angular.noop,e.options.onDeleteError=e.options.onDeleteError||angular.noop,e.fileAdded=n.bind(e),e.uploadCompleted=i.bind(e),e.loadFiles=s.bind(e),e.getCurrentFiles=o.bind(e),e.getFilename=r.bind(e),e.remove=a.bind(e),e.mimeTypeMap={jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif"},e.preload=!1,e.$watch("ngModel",function(t){!t||e.preload||e.ngModelIgnoreSync||(e.preload=!0,e.ngModelIgnoreSync=!1,e.loadFiles(angular.isArray(e.ngModel)?e.ngModel:[e.ngModel]))})}}}angular.module("ui").directive("fileupload",e),e.$inject=["ngNotify","$http"]}(),function(){angular.module("ui").directive("focusOn",["$timeout",function(e){return function(t,n,i){t.$on(i.focusOn,function(){e(function(){n[0].focus()},10)})}}])}(),function(){angular.module("ui").directive("menuBuilder",["$timeout",function(){return{templateUrl:"views/menu-builder.html",restrict:"EA",replace:!0,scope:{options:"=",menu:"=",save:"="},link:function(e){function t(e){$("#menu-builder").jstree({core:{animation:0,check_callback:function(e,t,n){switch(e){case"move_node":return!n.parent||"leaf"!==n.original.type;case"create_node":return"leaf"!==n.original.type;case"rename_node":return"leaf"!==t.original.type;case"delete_node":return _.isEmpty(t.children)&&"leaf"!==t.original.type}return!1},themes:{stripes:!0},data:i(e)},types:{"default":{icon:"glyphicon glyphicon-record"},leaf:{icon:"glyphicon glyphicon-asterisk"}},plugins:["dnd","search","state","types","wholerow"]})}function n(){var e=$("#menu-builder").jstree(!0),t=e.get_selected();return t.length?(t=t[0],"leaf"!==e.get_node(t).original.type&&e.edit(t),void 0):!1}var i=function o(e){return _.each(e,function(e){e.data={estado:e.estado},e.children?o(e.children):e.type="leaf"}),e};$("#menu-builder").delegate("li","dblclick",function(){return n(),!1}),e.nodeCreate=function(){var e=$("#menu-builder").jstree(!0),t=e.get_selected();return t.length?(t=t[0],t=e.create_node(t),t&&e.edit(t),void 0):!1},e.nodeDelete=function(){var e=$("#menu-builder").jstree(!0),t=e.get_selected();return t.length?(e.delete_node(t),void 0):!1},e.getMenu=function(){var t=function o(e){var t={text:e.text,estado:e.data.estado};return _.isEmpty(e.children)||(t.children=_.map(e.children,function(e){return o(e)})),t},n=$("#menu-builder").jstree(!0),i=_.map(n.get_json(),t);e.save(i)},e.$watch("menu",function(e){e&&t(e)})}}}])}(),function(){angular.module("ui").directive("mmenu",function(){return{restrict:"A",link:function(e,t,n){$(t).mmenu({extensions:["pagedim-black","effect-listitems-slide","multiline","pageshadow"],counters:!0,iconPanels:{add:!0,hideNavbars:!0},navbar:{title:n.navbarTitle},navbars:[{position:"top",content:["searchfield"]},!0],searchfield:{resultsPanel:{title:"Resultados",add:!0},placeholder:"Buscar menú",noResults:"Sin coincidencias"}},{searchfield:{clear:!0}})}}})}(),function(){function e(e){var o=this;this.$timeout=e,this.passwordLength=10,this.generate=t.bind(this),this.onSuccess=n.bind(this),this.showTooltip=i.bind(this),this.$onDestroy=function(){o.clipboardObj&&o.clipboardObj.destroy()}}function t(){var e=o;e=e.concat(this.includeCapitalLetters?s:[]).concat(this.includeNumbers?r:[]).concat(this.includeSymbols?a:[]);var t=this.passwordLength,n="";do n+=e[Math.floor(Math.random()*e.length)];while(n.length<t);this.model=n,angular.isFunction(this.afterGenerate)&&this.afterGenerate({password:n})}function n(e){e.clearSelection(),this.showTooltip(e.trigger,"Copiado!")}function i(e,t){var n=e.className;e.setAttribute("class",n+" btn tooltipped tooltipped-s"),e.setAttribute("aria-label",t),this.$timeout(function(){e.setAttribute("class",n)},1e3)}angular.module("ui").component("passwordGenerator",{templateUrl:"views/password-generator.html",selector:"passwordGenerator",bindings:{afterGenerate:"&"},controller:e,controllerAs:"vm"});var o=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=["0","1","2","3","4","5","6","7","8","9"],a=["!",'"','"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"];e.$inject=["$timeout"]}(),function(){angular.module("ui").directive("reportViewer",["$modal","$sce",function(e,t){return{template:"",restrict:"E",scope:{url:"=",title:"@",background:"="},link:function(n,i){n.close=function(){n.modalInstance.dismiss("close")},n.$watch("url",function(){n.url&&(n.trustedUrl=t.trustAsResourceUrl(n.url),n.background?i.append('<iframe src="'+n.trustedUrl+'" hidden></iframe>'):n.modalInstance=e.open({template:'<div class="modal-header"><div class="close glyphicon glyphicon-remove" ng-click="close()"></div><h3 class="modal-title">{{title}}</h3></div><div class="modal-body"><iframe src="{{trustedUrl}}" width="100%" height="450"></iframe></div><div class="modal-footer"><button class="btn btn-primary" ng-click="close()">Cerrar</button></div>',scope:n}))})}}}])}(),function(){angular.module("ui").directive("resize",["$window",function(e){return{link:function(t){var n=angular.element(e);t.getWindowDimensions=function(){return{h:n.height(),w:n.width()}},t.$watch(t.getWindowDimensions,function(e){t.windowHeight=e.h,t.windowWidth=e.w,t.style=function(){return{height:e.h+"px",width:e.w+"px"}},t.getHeight=function(t){return{height:e.h+t+"px"}},t.getWidth=function(t){return{width:e.w+t+"px"}}},!0),n.bind("resize",function(){t.$apply()})}}}])}(),function(){angular.module("ui").factory("timepickerState",function(){var e=[];return{addPicker:function(t){e.push(t)},closeAll:function(){for(var t=0;t<e.length;t++)e[t].close()}}}).directive("timeFormat",["$filter",function(e){return{restrict:"A",require:"ngModel",scope:{showMeridian:"="},link:function(t,n,i,o){var s=function(e){if(e){if(angular.isDate(e)&&!isNaN(e))return o.$setValidity("time",!0),e;if(angular.isString(e)){var n=/^(0?[0-9]|1[0-2]):[0-5][0-9] ?[a|p]m$/i;if(t.showMeridian||(n=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/),n.test(e)){o.$setValidity("time",!0);var i=new Date,s=e.split(":"),r=s[1].match(/[a|p]m/i);return r&&(s[1]=s[1].replace(/[a|p]m/i,""),"pm"==r[0].toLowerCase()&&(s[0]=s[0]+12)),i.setHours(s[0],s[1]),i}return o.$setValidity("time",!1),void 0}return o.$setValidity("time",!1),void 0}return o.$setValidity("time",!0),null};o.$parsers.push(s);var r=function(n){s(n);var i=t.showMeridian?"hh:mm a":"HH:mm";return e("date")(n,i)};o.$formatters.push(r),t.$watch("showMeridian",function(){var e=o.$modelValue;e&&n.val(r(e))})}}}]).directive("timepickerPop",["$document","timepickerState",function(e,t){return{restrict:"E",transclude:!1,scope:{inputTime:"=",showMeridian:"=",disabled:"="},controller:function(e){e.isOpen=!1,e.disabledInt=angular.isUndefined(e.disabled)?!1:e.disabled,e.toggle=function(){e.isOpen?e.close():e.open()}},link:function(n,i){var o={open:function(){t.closeAll(),n.isOpen=!0},close:function(){n.isOpen=!1}};t.addPicker(o),n.open=o.open,n.close=o.close,n.$watch("disabled",function(){n.disabledInt=angular.isUndefined(n.disabled)?!1:n.disabled}),n.$watch("inputTime",function(){n.inputTime?i.removeClass("has-error"):i.addClass("has-error")}),i.bind("click",function(e){e.preventDefault(),e.stopPropagation()}),e.bind("click",function(){n.$apply(function(){n.isOpen=!1})})},template:"<input type='text' class='form-control' ng-model='inputTime' ng-disabled='disabledInt' time-format show-meridian='showMeridian' ng-focus='open()' />  <div class='input-group-btn' ng-class='{open:isOpen}'>     <button type='button' ng-disabled='disabledInt' class='btn btn-default form-control' ng-class=\"{'btn-primary':isOpen}\" data-toggle='dropdown' ng-click='toggle()'>         <i class='glyphicon glyphicon-time'></i></button>           <div class='dropdown-menu pull-right'>             <timepicker ng-model='inputTime' show-meridian='showMeridian' style='margin-left: 15%;'></timepicker>            </div>   </div>"}}])}(),function(){function e(e,t){return{restrict:"A",scope:!0,require:"ngModel",link:function(n,i,o,s){function r(){var e=$(this).prop("checked");s.$setViewValue(e)}if("checkbox"!==$(i).attr("type"))return console.warn("ui-checkbox solamente se usa en inputs de tipo checkbox"),void 0;$(i).removeAttr("ui-checkbox");var a=e(i)(n.$parent)[0];$(i).replaceWith(a),t(function(){return $(a).bootstrapToggle().change(r)});var l=!1,c=!1;n.$watch(o.ngModel,function(e){l||void 0===e||(l=!0,$(a).bootstrapToggle(e?"on":"off"),c&&$(a).bootstrapToggle("disable"))}),n.$watch(o.isDisabled,function(e){void 0!==e&&(l?$(a).bootstrapToggle(e?"disable":"enable"):c=e)})}}}angular.module("ui").directive("uiCheckbox",e),e.$inject=["$compile","$timeout"]}(),function(){angular.module("ui").directive("uiDatatable",["$timeout","$uibModal","$compile","$state","$resource","DTOptionsBuilder","DTColumnBuilder","baseurl","$rootScope","$injector",function(e,t,n,i,o,s,r,a,l,c){return{template:'<div><div class="widget"><div class="widget-header bordered-top bordered-palegreen" ng-if="!options.hideHeader"><span class="widget-caption">{{options.title}}</span><div class="widget-buttons"><a href="" ng-show="canCreate()" ng-click="new()" title="Nuevo"><i class="glyphicon glyphicon-plus"></i></a><a ng-repeat="menuOption in options.extraMenuOptions" href="" ng-show="menuOption.showCondition()" ng-click="menuOption.action()" title="{{menuOption.title}}"><p><i class="{{menuOption.icon}}"></i>  {{menuOption.data}}&nbsp;&nbsp;&nbsp;</p></a></div></div><div class="widget-body"><div class="table-responsive"><table datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstanceCallback" width=100% class="table table-hover table-responsive table-condensed no-footer"></table></div><div ng-if="selected"><h3>Detalles</h3><table class="table table-striped table-bordered table-detail"><tbody><tr ng-repeat="row in options.detailRows"><td ng-if="selected[row.data]" class="row-title">{{row.title}}</td><td ng-if="selected[row.data] && row.renderWith">{{row.renderWith(selected[row.data])}}</td><td ng-if="selected[row.data] && !row.renderWith">{{selected[row.data]}}</td></tr></tbody></table></div></div></div>',restrict:"AE",replace:!0,scope:{options:"="},controller:function(l){function u(){return!0}function h(){m=_.template(a.getUrl()+(l.options.urlTemplate||"/datatables/<%= resource %>"))}function d(t,n){return $("td",t).unbind("click"),$("td",t).bind("click",function(){l.$apply(function(){l.selected=n,e(function(){$(document).scrollTop($(".table-detail").offset().top)})})}),t}var p,f,m;h(),l.dtInstance={},l.selectAll=!1,l.options.selection={},l.headerCompiled=!1,l.customFilters={},l.options.canEditCondition=l.options.canEditCondition||u,l.options.canCreateCondition=l.options.canCreateCondition||u,l.options.canRemoveCondition=l.options.canRemoveCondition||u,l.options.canListCondition=l.options.canListCondition||u;var g,v,b="~",w="DD/MM/YYYY",y="string",C=function(e,t){g&&(l.options.tableAjaxParams=g.ajax.params(),_.forEach(g.colReorder.order(),function(t,n){e.columns[n].type=l.customFilters[t]?l.customFilters[t].filterType:y})),e.rangeSeparator=b,e.columns=_.filter(e.columns,function(e){return!!e.data});var n=null;l.options.staticFilter&&(n=l.options.staticFilter);var i=o(m(l.options),e,{query:{isArray:!1,method:"POST"}});i.query(n).$promise.then(function(e){var n=e.data;n&&n.forEach(function(e){Object.keys(e).forEach(function(t){e[t]===!0?e[t]="Sí":e[t]===!1&&(e[t]="No")})}),t(e)}).catch(function(e){console.log(e)})},S=l.options.ajax?l.options.ajax:C;l.dateRangeFilters={i:{startDate:null,endDate:null}};var O=function(e){var t=e.model.startDate.format(w),n=e.model.endDate.format(w),i=g.colReorder.order().indexOf(e.opts.index);g.column(i).search(t+b+n).draw()},x=function(e){var t=g.colReorder.order().indexOf(e.opts.index);g.column(t).search("").draw(),$("#daterange_"+e.opts.index).val(""),l.dateRangeFilters[e.opts.index].startDate=null,l.dateRangeFilters[e.opts.index].endDate=null},k=function(e){if(null===l.dateRangeFilters[e.opts.index].startDate){var t=l.dateRangePickerWidgetsOrder.indexOf(e.opts.index),n=$($(".daterangepicker").get(t));n.parent().find(".in-range").removeClass("in-range"),n.parent().find(".active").removeClass("active"),n.parent().find(".input-mini").removeClass("active").val("")}};moment.locale("es");var T={cancelLabel:"Limpiar",applyLabel:"Aplicar",format:w,separator:" a ",weekLabel:"S",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()};l.dateRangeOptions={};var E={eventHandlers:{"apply.daterangepicker":O,"cancel.daterangepicker":x,"show.daterangepicker":k},opens:"right",index:0,showDropdowns:!0,locale:T};l.dateRangePickerWidgetsOrder=[],l.numberRangeFilters={i:{startRange:null,endRange:null}};var R=function(e){var t=e.model.startRange,n=e.model.endRange,i=g.colReorder.order().indexOf(e.opts.index);g.column(i).search(t+b+n).draw()},I=function(e){var t=g.colReorder.order().indexOf(e.opts.index);g.column(t).search("").draw(),$("#numberrange_"+e.opts.index).val(""),l.numberRangeFilters[e.opts.index].startRange=null,l.numberRangeFilters[e.opts.index].endRange=null;var n=l.rangePickerWidgetsOrder.indexOf(e.opts.index),i=$($(".rangepicker").get(n));i.parent().find("input[name=rangepicker_start]").val(),i.parent().find("input[name=rangepicker_end]").val()},A={cancelLabel:"Limpiar",applyLabel:"Aplicar",separator:" a "};l.rangeOptions={};var D={eventHandlers:{"apply.rangepicker":R,"cancel.rangepicker":I},opens:"right",index:0,showDropdowns:!0,locale:A};l.rangePickerWidgetsOrder=[],l.dtOptions=s.newOptions().withDataProp("data").withOption("language",{sProcessing:"Procesando...",sLengthMenu:"Registros _MENU_",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:".",sSearch:"Buscar:",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}).withOption("createdRow",function(e){n(angular.element(e).contents())(l)}).withOption("headerCallback",function(e){l.headerCompiled||(l.headerCompiled=!0,n(angular.element(e).contents())(l))}).withPaginationType("full_numbers").withButtons(["colvis"]).withBootstrap(),"@"===l.options.resource?l.dtOptions.withOption("data",l.options.factory.all()):(l.dtOptions.withOption("ajax",S),l.dtOptions.withOption("serverSide",!0),l.dtOptions.withOption("processing",!0)),l.options.detailRows&&(l.dtOptions=l.dtOptions.withOption("rowCallback",d)),l.visibleColumns=0,l.dtColumns=[],l.defaultColumnOrderIndices=[],l.originalIndexKey={};var P=0;if(l.options.isSelectable){var F='<label><input type="checkbox" ng-model="selectAll" ng-click="toggleAll()"><span class="text"></span></label>';f=r.newColumn(null).withTitle(F).notSortable().withOption("searchable",!1).renderWith(function(e){var t='<label><input id="'+e.id+'" type="checkbox" ng-model="options.selection['+e.id+']" ng-click="toggleOne()"><span class="text"></span></label>';return t}).withOption("name","checkbox"),l.dtColumns.push(f),l.visibleColumns+=1,P=1,l.originalIndexKey[0]=null,l.defaultColumnOrderIndices.push(0),l.dtOptions.withColReorderOption("iFixedColumnsLeft",1)}var L=function(e){return function(t){return moment(t).format(e)}},M=function(e){return void 0==e?"":e},U=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):""},N=function(e){return function(t,n,i){if(t){var o="Gs. ";return"dolares"===i[e]?(o="Usd. ",t=parseFloat(t).toFixed(2)):"pesos"===i[e]?(o="Pes. ",t=parseFloat(t).toFixed(2)):"real"===i[e]?(o="Rel. ",t=parseFloat(t).toFixed(2)):"euro"===i[e]&&(o="Eur. ",t=parseFloat(t).toFixed(2)),o+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return""}},j=["data","title","class","renderWith","visible","sortable","searchable"];_.map(l.options.columns,function(e,t){var n=r.newColumn(e.data),i=P+t;if(l.originalIndexKey[i]=e.data,e.title&&(n=n.withTitle(e.title)),e.class&&(n=n.withClass(e.class)),e.renderWith&&(n="dateRender"===e.renderWith?n.renderWith(L(e.dateFormat)):"emptyRender"===e.renderWith?n.renderWith(M):"numberRender"===e.renderWith?n.renderWith(U):"monedaRender"===e.renderWith?n.renderWith(N(e.pathAttMoneda)):n.renderWith(e.renderWith)),e.sortable===!1&&(n=n.notSortable()),_.contains(l.options.defaultColumnOrder,e.data)&&e.visible!==!1?l.visibleColumns+=1:n=n.notVisible(),_.forOwn(e,function(e,t){_.contains(j,t)||(n=n.withOption(t,e))}),n=e.searchable===!1?n.withOption("bSearchable",!1):n.withOption("bSearchable",!0),e.type){var o={filterType:e.type,filterUrl:e.filterUrl,keyData:e.keyData};"date-range"===e.type?l.dateRangeFilters[i]={startDate:null,endDate:null}:"number-range"===e.type&&(l.numberRangeFilters[i]={startRange:null,endRange:null}),l.customFilters[i]=o}l.dtColumns.push(n)}),l.options.hasOptions&&(l.originalIndexKey[l.visibleColumns]=null,l.dtOptions.withColReorderOption("iFixedColumnsRight",1),l.visibleColumns+=1),(l.options.colReorder===!0||void 0===l.options.colReorder)&&l.dtOptions.withColReorder(),p=r.newColumn(null).withTitle("Operaciones").notSortable().withOption("searchable",!1).renderWith(function(e){var t="";return l.canEdit(e)&&(t+='<button class="btn-row-datatable btn btn-success btn-dt" style="margin-right: 5px;" ng-click="edit('+e.id+', $event)">   <span class="glyphicon glyphicon-pencil"></span>'),l.canList(e)&&(t+='<button class="btn-row-datatable btn btn-info btn-dt" style="margin-right: 5px;" ng-click="view('+e.id+', $event)">   <span class="glyphicon glyphicon-eye-open"></span></button>'),l.canRemove(e)&&(t+='<button class="btn-row-datatable btn btn-danger btn-dt" style="margin-right: 5px;" ng-click="remove('+e.id+', $event)">   <span class="glyphicon glyphicon-trash"></span></button>'),l.options.extraRowOptions&&_.forEach(l.options.extraRowOptions,function(n){var o=_.template(n.templateToRender);l[n.functionName]=n.functionDef;var s=n.customAttribute,r={dataId:e.id,$state:i,$scope:l};r.dataCustom=s&&s.constructor===Array?JSON.stringify(_.map(s,function(t){return e[t]})):JSON.stringify(e[n.customAttribute]),t+=o(r),l[n.conditionName]=n.conditionDef;var a=l.rowsData||{};a[e.id]=e,l.rowsData=a}),t}),l.canEdit=function(e){return l.options.canEditCondition(e)&&!l.options.hideEditMenu},l.canRemove=function(e){return l.options.canRemoveCondition(e)&&!l.options.hideRemoveMenu},l.canCreate=function(e){return l.options.canCreateCondition(e)&&!l.options.hideCreateMenu},l.canList=function(e){return l.options.canListCondition(e)&&!l.options.hideViewMenu},l.options.hasOptions&&(l.dtColumns.push(p),l.visibleColumns+=1),l.new=function(){angular.isFunction(l.options.onNew)?l.options.onNew():console.warn("No se especificó función options.onNew")},l.edit=function(e){angular.isFunction(l.options.onEdit)?l.options.onEdit(e):console.warn("No se especificó función options.onEdit")},l.view=function(e){angular.isFunction(l.options.onView)?l.options.onView(e):console.warn("No se especificó función options.onView")},l.toggleAll=function(){l.selectAll?_.each(g.rows().data(),function(e){l.options.selection[e.id]=!0}):_.each(g.rows().data(),function(e){l.options.selection[e.id]=!1})},l.toggleOne=function(){var e=_.some(g.rows().data(),function(e){return!l.options.selection[e.id]});l.selectAll=!e};var H=function(){$("#"+v+" tfoot tr").empty(),l.dateRangePickerWidgetsOrder=[],$(".daterangepicker").remove(),l.options.currentColumnOrder=[],_.forEach(g.context[0].aoColumns,function(e){var t=e._ColReorder_iOrigCol,i=e.mData,o="<th></th>";if(e.bVisible){i&&l.options.currentColumnOrder.push(i);var s=e.name;name||(s=e.sTitle);var r=l.customFilters[t];if(r){if("combo"===r.filterType){var u="combo_"+t;o='<th><div id="'+u+'" name="'+s+'" class="filtro-ancho"></div></th>',$("#"+v+" tfoot tr").append(o),o="";var h={"Content-Type":"application/json"},d=c.get("TokenService");d&&(h.Authorization="Bearer "+d.getToken()),$("#"+u).select2({allowClear:!0,placeholder:" ",minimumResultsForSearch:-1,id:function(t){return t[e.idField]},data:function(){return $http({url:a.getUrl()+r.filterUrl,method:"GET"})},ajax:{url:a.getUrl()+"/"+r.filterUrl,dataType:"json",params:{headers:h},quietMillis:250,data:function(e){return{q:e}},results:function(e){var t=r.keyData?e[r.keyData]:e;return{results:t}},cache:!0},initSelection:function(t,n){g.column(e.idx).search();$.ajax(a.getUrl()+"/"+r.filterUrl,{beforeSend:function(e){e.setRequestHeader("Content-Type","application/json");var t=c.get("TokenService");t&&e.setRequestHeader("Authorization","Bearer "+t.getToken())},dataType:"json"}).done(function(e){n(e)})},formatResult:function(t){return'<div class="select2-user-result">'+t[e.textField]+"</div>"},formatSelection:function(t){return t[e.textField]},escapeMarkup:function(e){return e}}).on("change",function(){var e=($("#"+u).select2("val"),parseInt(u.substring(6))),t=g.colReorder.order().indexOf(e);this.value.length>=1?g.column(t).search(this.value).draw():g.column(t).search("").draw()})}else if("date-range"===r.filterType){l.dateRangeOptions[t]=_.clone(E,!0),l.dateRangeOptions[t].index=t,t>l.options.columns.length/2&&(l.dateRangeOptions[t].opens="left"),l.dateRangePickerWidgetsOrder.push[t];var p='<th><input id="daterange_'+t+'" date-range-picker class="column-filter form-control input-sm date-picker" options="dateRangeOptions['+t+']" type="text" ng-model="dateRangeFilters['+t+']" /></th>';o=n(p)(l)}else if("number-range"===r.filterType){l.rangeOptions[t]=_.clone(D,!0),l.rangeOptions[t].index=t,t>l.options.columns.length/2&&(l.rangeOptions[t].opens="left"),l.rangePickerWidgetsOrder.push[t];var p='<th><input  id="numberrange_'+t+'" range-picker class="column-filter form-control input-sm " options="rangeOptions['+t+']" type="text" ng-model="numberRangeFilters['+t+']" /></th>';o=n(p)(l)}}else if(e.mData&&e.bSearchable){var f=g.column(e.idx).search();o='<th><input id="filtro_'+t+'" class="column-filter form-control input-sm" type="text" style="min-width:60px; width: 100%;" value="'+f+'"/></th>'}else o="<th></th>";$("#"+v+" tfoot tr").append(o)}}),_.forEach($("[id^='filtro']"),function(e){$(e).on("keyup change",function(t){var n=parseInt(e.id.substring(7)),i=g.colReorder.order().indexOf(n);(this.value.length>=1||13==t.keyCode)&&g.column(i).search(this.value).draw(),""==this.value&&g.column(i).search("").draw()})})};l.dtInstanceCallback=function(t){$("thead+tfoot").remove(),v=t.id,g=t.DataTable,$("#"+v).append("<tfoot><tr></tr></tfoot>"),H(),$("#"+v+" tfoot").insertAfter("#"+v+" thead"),_.each(l.dtColumns,function(e,t){if(e.filter){var n=$(".input-sm")[t+1];n.value=e.filter}}),$(".dt-button.buttons-colvis").removeClass().addClass("columns-selection").html('<i class="glyphicon glyphicon-th-list"></i>'),l.options.reloadData=function(){"@"!==l.options.resource&&(h(),$("#"+v).DataTable().ajax.reload())},l.$watch("options.staticFilter",function(){"@"!==l.options.resource&&(h(),$("#"+v).DataTable().ajax.reload())}),g.on("draw",function(){e(function(){if(g.rows().data().length>0){var e=!0;_.each(g.rows().data(),function(t){void 0===l.options.selection[t.id]?(l.options.selection[t.id]=!1,e=!1):0==l.options.selection[t.id]&&(e=!1)}),l.selectAll=e}else l.selectAll=!1})}),g.on("column-visibility",function(){H()}),g.on("column-reorder",function(){H()}),l.dtInstance=t,l.options.getFilters=function(){var e={};return _.forEach(g.context[0].aoColumns,function(t){var n=t._ColReorder_iOrigCol,i=t.mData;void 0!==i&&""!==i&&null!==i&&(e[i]=g.column(n).search())}),e},void 0!==l.options.defaultOrderColumn&&void 0!==l.options.defaultOrderDir&&g.order([[l.options.defaultOrderColumn,l.options.defaultOrderDir]])},l.remove=function(e){l.disableButton=!1,l.selectedItemId=e,l.tituloModal="Confirmación de Borrado",l.mensajeModal="Esta operación eliminará el registro seleccionado. ¿Desea continuar?",l.modalInstanceBorrar1=t.open({template:'<div class="modal-header"><h3 class="modal-title">{{::tituloModal}}</h3></div><div class="modal-body">{{::mensajeModal}}</div><div class="modal-footer"><button class="btn btn-primary" ng-disabled="disableButton" ng-click="ok(selectedItemId)">Aceptar</button><button class="btn btn-warning" ng-disabled="disableButton" ng-click="cancel()">Cancelar</button></div>',scope:l}),l.cancel=function(){l.disableButton=!0,l.modalInstanceBorrar1.dismiss("cancel")},l.ok=function(e){l.disableButton=!0,angular.isFunction(l.options.onRemove)&&(l.options.onRemove(e),l.modalInstanceBorrar1.close(e))}},l.options.detailRows&&(l.options.detailRows=l.options.detailRows===!0?l.options.columns:_.union(l.options.columns,l.options.detailRows))}}}])}(),function(){function e(){var e={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",isRequired:"=",submittedFlag:"=",classes:"@",onChange:"&",isDisabled:"=",dateOptions:"=?",format:"@",opened:"@"},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-date-input.html",controller:t};return e}function t(e,t,n){function i(){moment.locale("es")}function o(){s.focus=!1,t(s.onChange,0)}var s=this,r=!1;e.$watch("vm.model",function(t){t&&!r&&(e.vm.model=angular.isString(t)?n.parse(t,e.vm.format):angular.isDate(t)?t:new Date(t),r=!0)}),s.format||(s.format="dd/MM/yyyy"),s.onChange=s.onChange||angular.noop,s.showWeeks=!1,s.open=function(){s.opened=!0
},s.focus=!1,s.onFocus=function(){s.opened=!0,s.focus=!0},s.today=function(){s.model=new Date},s.clear=function(){s.model=null},s.dateOptions=s.dateOptions||{formatYear:"yy",startingDay:1},i(),s.updateListener=o}angular.module("ui").directive("validatedDateInput",e),t.$inject=["$scope","$timeout","uibDateParser"]}(),function(){function e(){function e(){}var n={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",isRequired:"=",submittedFlag:"=",placeholder:"@",classes:"@",inputType:"@",onChange:"&",maxLength:"@",minLength:"@",focusElement:"@",isDisabled:"=",textPattern:"@",min:"=",max:"="},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-text-input.html",link:e,controller:t};return n}function t(e,t){function n(){}function i(){t(o.onChange,0)}var o=this;n(),o.updateListener=i}angular.module("ui").directive("validatedTextInput",e),t.$inject=["$scope","$timeout"]}(),function(){function e(){function e(){}var n={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",isRequired:"=",submittedFlag:"=",classes:"@",inputType:"@",onChange:"&",maxLength:"@",minLength:"@",isDisabled:"="},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-textarea-input.html",link:e,controller:t};return n}function t(e,t){function n(){o.campo=o.form[o.name]}function i(){t(o.onChange,0)}var o=this;n(),o.updateListener=i}angular.module("ui").directive("validatedTextareaInput",e),t.$inject=["$scope","$timeout"]}(),function(){function e(){function e(e,t,n,i){i.model&&(i.model=new Date(i.model))}var n={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",isRequired:"=",submittedFlag:"=",classes:"@",onChange:"&",isDisabled:"=",dateOptions:"@",format:"@",opened:"@"},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-time-input.html",link:e,controller:t};return n}function t(e,t,n,i){function o(){moment.locale("es"),a.opened=!1}function s(){a.model=moment(a.date).format(a.format);var e=new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$");a.isValid=e.test(a.model),a.isValid?t(a.onChange,0):a.form[a.name].$setValidity("invalido",!a.isValid)}function r(){var e=new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$");a.isValid=e.test(a.model),a.isValid?t(a.onChange,0):a.form[a.name].$setValidity("invalido",!a.isValid)}var a=this;a.isValid=!0,a.format||(a.format="HH:mm"),a.date=new Date,a.showWeeks=!1,a.open=function(){a.opened=!a.opened},a.focus=!1,a.onFocus=function(){a.opened=!0,a.focus=!0},a.blur=function(){a.opened=!1,a.focus=!1},a.today=function(){a.date=new Date,a.model=moment(a.date).format(a.format)},a.clear=function(){a.date=null,a.model=null},a.close=function(){a.opened=!1,a.focus=!1},o(),a.updateListener=s,a.updateInputListener=r,a.keydown=function(e){(27===e.which||9===e.which||13===e.which)&&a.close()},n.bind("click",function(e){e.preventDefault(),e.stopPropagation()}),i.bind("click",function(){e.$apply(function(){return a.opened=!1})})}angular.module("ui").directive("validatedTimeInput",e),t.$inject=["$scope","$timeout","$element","$document"]}(),function(){function e(){var e={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",placeholder:"@",isRequired:"=",submittedFlag:"=",fieldToShow:"@",options:"=",classes:"@",onSelect:"&",focusElement:"@",isDisabled:"=",optionsLoader:"&?",renderer:"&?",searchTextMinLength:"@",groupBy:"=",resetSearchInput:"=",loadReplace:"=",keyData:"@",theme:"="},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-uiselect-input.html",controller:t};return e}function t(e,t,n,i){function o(){c.availableOptions=[],c.loadOptions(),c.handleLazyLoading=c.optionsLoader?c.loadOptions:void 0;var n=c.searchTextMinLength?parseInt(c.searchTextMinLength):0;t(function(){var t=i.find("input.ui-select-search");$(t).on("keyup",function(){var i=$(t).val();i!==c.currentQuery&&(c.currentQuery=i,""!==i&&n&&i.length<n||e.$apply(function(){return c.loadOptions(i)}))}),$(t).on("focus",function(){if(!c.currentQuery){var n=$(t).val();e.$apply(function(){return c.loadOptions(n)})}})},0)}function s(e){return e?angular.isFunction(c.renderer)?c.renderer({item:e}):_.get(e,c.fieldToShow):void 0}function r(){t(c.onSelect,0)}function a(e){return{$:e}}function l(t){var i=this;if(!angular.isFunction(this.optionsLoader))return e.$watch("vm.options",function(e){e&&(i.availableOptions=t?n("filter")(e,i.getFilter(t)):e)}),i.availableOptions=t?n("filter")(i.options,i.getFilter(t)):i.options,void 0;var o=this.optionsLoader({query:t});o&&angular.isFunction(o.then)&&o.then(function(e){var t=e;i.keyData&&(t=e[i.keyData]),i.availableOptions=i.availableOptions||[],i.availableOptions=void 0==i.loadReplace||i.loadReplace?t:i.availableOptions.concat(t)})}var c=this;c.getChoice=s.bind(this),c.selectListener=r.bind(this),c.getFilter=a.bind(this),c.loadOptions=l.bind(this),c.currentQuery=null,c.placeholder=c.placeholder||"Seleccione una opción",c.selectedTheme=c.theme||"bootstrap",o()}angular.module("ui").directive("validatedUiselectInput",e),t.$inject=["$scope","$timeout","$filter","$element"]}(),function(){function e(){function e(){}var n={restrict:"E",scope:{model:"=",form:"=",name:"@",label:"@",isRequired:"=",submittedFlag:"=",fieldToShow:"@",options:"=",classes:"@",onSelect:"&",isDisabled:"=",optionsLoader:"&?",renderer:"&?",searchTextMinLength:"@",loadReplace:"=",keyData:"@",theme:"="},controllerAs:"vm",bindToController:!0,templateUrl:"views/validated-uiselect-multiple-input.html",link:e,controller:t};return n}function t(e,t,n){function i(){l.loadOptions(),l.handleLazyLoading=l.optionsLoader?l.loadOptions:void 0;var i=l.searchTextMinLength?parseInt(l.searchTextMinLength):0;t(function(){var t=n.find("input.ui-select-search");$(t).on("keyup",function(){var n=$(t).val();""!==n&&i&&n.length<i||e.$apply(function(){return l.loadOptions(n)})})},0)}function o(e){return e?angular.isFunction(l.renderer)?l.renderer({item:e}):_.get(e,l.fieldToShow):void 0}function s(){t(l.onSelect,0)}function r(e){return{$:e}}function a(t){var n=this;if(!angular.isFunction(this.optionsLoader))return e.$watch("vm.options",function(e){e&&(n.availableOptions=t?$filter("filter")(e,n.getFilter(t)):e)}),n.availableOptions=t?$filter("filter")(n.options,n.getFilter(t)):n.options,void 0;var i=this.optionsLoader({query:t});i&&angular.isFunction(i.then)&&i.then(function(e){var t=e;n.keyData&&(t=e[n.keyData]),n.availableOptions=n.availableOptions||[],n.availableOptions=void 0==n.loadReplace||n.loadReplace?t:n.availableOptions.concat(t)})}var l=this;l.getChoice=o.bind(this),l.selectListener=s.bind(this),l.getFilter=r.bind(this),l.loadOptions=a.bind(this),l.selectedTheme=l.theme||"bootstrap",i()}angular.module("ui").directive("validatedUiselectMultipleInput",e),t.$inject=["$scope","$timeout","$element"]}(),function(){function e(){var e={restrict:"E",scope:{},controllerAs:"vm",bindToController:!0,templateUrl:"views/wizard.html",controller:t,transclude:!0};return e}function t(){function e(){}function t(){}var n=this;n.tabs=[],e(),n.addTab=t}angular.module("ui").directive("wizard",e),t.$inject=["$scope","$timeout"]}(),function(){function e(){var e={restrict:"E",transclude:!0,scope:{},templateUrl:"views/wizardcontent.html",link:t};return e}function t(){}angular.module("ui").directive("wizardContent",e)}(),function(){function e(){var e={required:"^^wizard",restrict:"E",scope:{title:"@",number:"@",activeIf:"@",disabledIf:"=",state:"@"},templateUrl:"views/wizardpane.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(e){var t=this;t.isActive=function(t){var n=t.indexOf("(");n=-1!==n?n:t.length;var i=t.substr(0,n);return t.startsWith(".")?e.is(e.get("^").name+t):e.is(i)},t.go=function(n){t.disabledIf||e.go(n)}}angular.module("ui").directive("wizardPane",e),e.$inject=["$state"],t.$inject=["$state"]}(),function(){angular.module("ui").service("AuthenticationService",function(e,t,n,i){var o=e(i.getBaseUrl()+"/:action",{action:"@action"});return{login:function(e,n){t.auxiliarUsername=e;var i=new o({username:e,password:n});return i.$save({action:"login"})},postLogin:function(e){return new o.save({action:"loginApp"},{username:e.username})},token:function(e){var t=new o({username:e.username,accessToken:e.accessToken,requestToken:e.requestToken});return t.$save({action:"token"})},logout:function(){var e=this.getCurrentUser(),n=new o({username:e.username,accessToken:e.accessToken});return t.AuthParams={},localStorage.removeItem("AUTH_PARAMS"),n.$save({action:"logout"})},getCurrentUser:function(){var e=t.AuthParams;return e&&0!==Object.keys(e).length||(e=JSON.parse(localStorage.getItem("AUTH_PARAMS"))||void 0,e&&(n.defaults.headers.common.Authorization="Bearer "+e.accessToken)),e}}})}(),function(){angular.module("ui").service("AuthorizationService",function(e,t,n,i,o){var s=t(i.getBaseUrl()+"/authorization/:action",{action:"@action"});return{hasPermission:function(e,t){var n=t||o.getCurrentUser(),i=[];return n&&(i=n.permissions||[]),i.indexOf(e)>=0},principal:function(){return s.get({action:"principal"}).$promise},setupCredentials:function(t,i,o,s){var r={username:t,requestToken:i,accessToken:o};e.AuthParams=r,localStorage.setItem("AUTH_PARAMS",JSON.stringify(r)),n.defaults.headers.common.Authorization="Bearer "+o,this.principal().then(function(e){r.permissions=e.permisos,r.stamp=e.stamp,localStorage.setItem("AUTH_PARAMS",JSON.stringify(r)),s(r)})},cleanupCredentials:function(){localStorage.removeItem("AUTH_PARAMS")},authorize:function(e,t){var n=o.getCurrentUser();if(e===!0&&void 0===n)return this.enums.LOGIN_REQUIRED;if(e&&void 0!==n&&(void 0===t||0===t.length))return this.enums.AUTHORIZED;if(t){for(var i=!0,s=0;s<t.length&&(i=this.hasPermission(t[s],n),i!==!1);s++);return i?this.enums.AUTHORIZED:this.enums.NOT_AUTHORIZED}},enums:{LOGIN_REQUIRED:"loginRequired",NOT_AUTHORIZED:"notAuthorized",AUTHORIZED:"authorized"}}})}(),function(){angular.module("ui").provider("baseurl",function(){this.config={},this.setConfig=function(e){this.config=e},this.$get=function(){var e=this.config;return{getUrl:function(){return"http://"+e.serverIp+":"+e.serverPort+"/"+e.serverName+"/"+e.serverAPI},getBaseUrl:function(){var t=window.location.hostname;return t===e.serverIp?"http://"+t+"/"+e.serverName+"/"+e.serverAPI:"http://"+t+":"+e.serverPort+"/"+e.serverName+"/"+e.serverAPI},getPublicBaseUrl:function(){var t=window.location.hostname;return t===e.serverIp?"http://"+t+"/public/":"http://"+t+":"+e.serverPort+"/public/"},getBareServerUrl:function(){var t=window.location.hostname;return t===e.serverIp?"ws://"+t+"/"+e.serverWSName+"/":"ws://"+t+":"+e.serverPort+"/"+e.serverName+"/"}}}})}(),function(){angular.module("ui").provider("Config",function(){var e={};this.config=function(t){angular.extend(e,t)},this.$get=[function(){return e}]})}(),function(){function e(e,t){return{open:function(n){var i=t.$new(!0);Object.assign(i,n);var o=e.open({template:'\n              <div class="modal-header">\n                <h3 class="modal-title">{{::title}}</h3>\n              </div>\n              <div class="modal-body">{{::message}}</div>\n              <div class="modal-footer">\n                <button class="btn btn-primary" ng-click="submit()">Aceptar</button>\n                <button class="btn btn-warning" ng-click="doCancel()">Cancelar</button>\n              </div>',scope:i});i.submit=function(){o.dismiss("cancel"),i.$destroy(),angular.isFunction(n.ok)&&n.ok()},i.doCancel=function(){o.dismiss("cancel"),i.$destroy(),angular.isFunction(n.cancel)&&n.cancel()}}}}angular.module("ui").factory("ConfirmationModal",e),e.$inject=["$uibModal","$rootScope"]}(),function(){angular.module("ui").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider","flowFactoryProvider",function(e,t,n,i){i.defaults={method:"octet"};var o=function(t,i,o){if("object"===i.type&&"fileupload"===i.format){var s=e.stdFormObj(t,i,o);return s.key=o.path,s.type="fileupload",o.lookup[n.stringify(o.path)]=s,s}};e.defaults.object.unshift(o),t.addMapping("bootstrapDecorator","fileupload","views/directives/fileupload.html"),t.createDirective("fileupload","views/directives/fileupload.html")}]).factory("fileupload",function(){})}(),angular.module("ui").filter("filesize",function(){var e=["bytes","KB","MB","GB","TB","PB"];return function(t,n){if(isNaN(parseFloat(t))||!isFinite(t))return"?";for(var i=0;t>=1024;)t/=1024,i++;return t.toFixed(+n)+" "+e[i]}}),function(){function e(){function e(e,t,n){angular.isArray(t)||(t=[t]),angular.forEach(t,function(t){e.booleanJoins.push({joinType:n,filter:t})})}function t(e,t,n){var i={condition:t};n&&(i.comparingObject=n,_.isBoolean(n)?i.type="boolean":_.isString(n)?i.type="string":_.isDate(n)?i.type="date":_.isNumber(n)&&(i.type="integer")),e.conditions.push(i)}function n(e){this.path=e,this.conditions=[],this.booleanJoins=[]}var i={EQUALS:"equals",NOT_EQUALS:"notEquals",NULL:"null",NOT_NULL:"notNull",LIKE:"like",NOT_LIKE:"notLike",GT:"gt",GTE:"gte",LT:"lt",LTE:"lte",IN:"in"},o={or:function(t){return e(this,t,"or"),this},and:function(t){return e(this,t,"and"),this},eq:function(e){return t(this,i.EQUALS,e),this},notEq:function(e){return t(this,i.NOT_EQUALS,e),this},isNull:function(){return t(this,i.NULL),this},notNull:function(){return t(this,i.NOT_NULL),this},like:function(e){return t(this,i.LIKE,e),this},notLike:function(e){return t(this,i.NOT_LIKE,e),this},gt:function(e){return t(this,i.GT,e),this},gte:function(e){return t(this,i.GTE,e),this},lt:function(e){return t(this,i.LT,e),this},lte:function(e){return t(this,i.LTE,e),this},"in":function(e){return t(this,i.IN,e),this}};return n.prototype=o,{path:function(e){return new n(e)}}}angular.module("ui").factory("Filter",e)}(),function(){angular.module("ui").factory("filterFactory",function(){var e=function(e,t){var o={_inner:{type:e}};return t.constructor!==Array&&(t=[t]),o._inner.filters=this&&this._inner?[this._inner,t]:t,o.or||"and"!==e||(o.or=n),o.value||(o.value=s),o.add||(o.add=i),o.paginate=r,o},t=function(t){return e.call(this,"and",t)},n=function(t){return e.call(this,"or",t)},i=function(e){return this._inner.filters.push(e),this},o=function(e){return t([e])},s=function(){return this._inner},r=function(e,t){return this._inner.limit=e,this._inner.offset=t,this};return{and:t,or:n,add:i,single:o,value:s}})}(),function(){angular.module("ui").factory("formFactory",function(e,t,n,i,o){var s=i.hasPermission;return{defaultForm:function(){return["*",{type:"submit",title:"Guardar",htmlClass:"pull-right"}]},defaultOptions:function(){return{formDefaults:{ngModelOptions:{updateOn:"blur"},disabled:!1,disableSuccessState:!1,disableErrorState:!1,feedback:!0},validationMessage:{302:"El campo es obligatorio"}}},defaultViewOptions:function(){return{formDefaults:{disabled:!0,disableSuccessState:!0,disableErrorState:!0,feedback:!1}}},defaultSubmit:function(i,o,s,r,a,l){var c=[];if(_.each(s.$error,function(e,t){_.contains(o.schema.backEndValidatedErrors,t)&&_.each(e,function(e){var n="schemaForm.error."+e.$name;c.push(n),console.log("schemaForm.error."+e.$name+" error: "+t),o.$broadcast(n,t.toString(),!0,!0)}),_.each(c,function(e,t){console.log(e+" error: "+t),o.$broadcast(e,"schemaForm",!0,!0)})}),o.$broadcast("schemaFormValidate"),s.$valid&&!n.isProcessing){if(n.isProcessing=!0,o.model)var u=r.create(o.model);else var u=r.create(a.model);if(o.schema)var h=o.schema;else var h=a.schema;_.each(h.properties,function(e,t){!e.format||"date"!==e.format&&"date-time"!==e.format||u[t]&&"string"==typeof u[t]&&(u[t]=new moment(u[t],e.formatDate||"DD/MM/YYYY").toDate())}),r.save(u).then(function(){e.path("/"+i)}).catch(function(e){if(console.log(e),n.isProcessing=!1,l)return l(e),void 0;if(o.schema)var i=o.schema;else var i=a.schema;if(_.each(i.properties,function(e,t){!e.format||"date"!==e.format&&"date-time"!==e.format||o.model[t]&&o.model[t]instanceof Date&&(o.model[t]=currentForm[t].$viewValue)}),e.constructor===Array&&e.data[0].constraint)o.$broadcast("schemaForm.error."+e.data[0].constraint,e.data[0].codigoError.toString(),!1);else if(e&&500===e.status){var s="";_.forEach(e.data,function(e){s+="\n\n"+e.message+"."}),t({message:s,classes:"alert-danger",position:"right"}),deferred.reject(s)}})}},defaultNSFSubmit:function(e,i,s,r){var a=o.defer();if(e.$valid&&!n.isProcessing){n.isProcessing=!0;var l=i.create(s);i.save(l).then(function(e){a.resolve(e)}).catch(function(e){if(console.log(e),n.isProcessing=!1,r)r(e),a.reject(i);else if(e&&500===e.status){var i="";_.forEach(e.data,function(e){i+="\n\n"+e.message+"."}),t({message:i,classes:"alert-danger",position:"right"}),a.reject(i)}})}return a.promise},canEdit:function(e){var t=s("update_"+e);return t},canList:function(e){var t=s("index_"+e);return t},canRemove:function(e){var t=s("delete_"+e);return t},canCreate:function(e){var t=s("create_"+e);return t}}})}(),function(){function e(e,t){function n(n,i){return i&&t.addPart(i),e.refresh().then(function(){return e(n)})}var i={getTranslations:n};return i}angular.module("ui").factory("LangService",e),e.$inject=["$translate","$translatePartialLoader"]}(),function(){function e(){function e(e,n){var i={},o=_.keys(e);return _.forEach(o,function(o){var s=_.findIndex(n,function(e){return e==o});return n&&-1!==s?(i[o]=e[o],void 0):(1==_.isArray(e[o])?(i[o]=[],_.forEach(e[o],function(s,r){t(e[o],i[o],r,n)})):t(e,i,o,n),void 0)}),i}function t(e,t,n){t[n]=_.isObject(e[n])&&e[n].hasOwnProperty("id")?e[n].id:e[n]}var n={trimDetails:e};return n}angular.module("ui").factory("ModelTrimmer",e)}(),function(){function e(e,t,n,i,o){function s(e){return g.query(e)}function r(e){v=!0;var t=!1;e&&(t=e),w.close(t)}function a(e){return new g(e)}function l(e){return g.get({id:e})}function c(e,t){var n={action:"get",offset:e,limit:t};w.send(JSON.stringify(n))}function u(e){w=i(t.getBareServerUrl()+"wsnotificaciones");var n={action:"init",username:e};w.onOpen(function(){console.log("Socket abierto"),b=0}),w.onClose(function(){console.log("Socket cerrado"),v?v=!1:4>b?(b+=1,o(function(){u(e)},1e3*b)):console.error("Tras 4 intentos no se pudo reestablecer conexion con websocket de notificaciones.")}),console.log(w),w.send(JSON.stringify(n))}function h(e,t){var i={action:e,notificacion:t.id};n.info("mensaje a mandar: "),n.info(i),w.send(JSON.stringify(i))}function d(e){w||(w=i(t.getBareServerUrl()+"wsnotificaciones")),w.onMessage(e)}function p(e){return e.$remove()}function f(e){return e.id?e.$update():e.$save()}var m={all:s,close:r,create:a,get:l,getLatest:c,init:u,remove:p,save:f,sendAction:h,registerMessageObserver:d},g=e(t.getBaseUrl()+"/notificaciones/:id",{id:"@id"},{update:{method:"PUT"}}),v=!1,b=0,w=void 0;return m}angular.module("ui").factory("NotificacionesWSFactory",e),e.$inject=["$resource","baseurl","$log","$websocket","$timeout"]}(),function(){angular.module("ui").factory("ReportTicketFactory",["$resource","baseurl",function(e,t){var n=e(t.getBaseUrl()+"/ticket/:reportID?:query&currentColumnOrder=:currentColumnOrder",{action:"@reportID"});return{ticket:function(e,t,i,o){var s=new n(t),r={reportID:e};return i&&(r.query=decodeURIComponent($.param(i))),o&&(r.currentColumnOrder=o),s.$save(r)},downloadURL:function(e,n){return console.log("downloadURL"),t.getBaseUrl()+"/generar/"+e+"/"+n},downloadCustomReport:function(e,n,i){console.log("dowloadCustomReport");var o=t.getBaseUrl()+"/reportes/"+e;return i?(o+="?",_.forEach(i,function(e){o+=e+"&"}),o):o}}}])}(),function(){function e(){function e(e,t){n[e]=t}function t(){return n}var n={};this.addKeys=e,this.$get=[t]}angular.module("ui").provider("tkeys",e)}(),function(){angular.module("ui").factory("usuariosFactory",function(e,t,n){var i=e(n.getBaseUrl()+"/usuarios/:id",{id:"@id"},{update:{method:"PUT"}});return{all:function(e){return i.query(e)},get:function(e){return i.get({id:e})},getByUsername:function(e){var n={};return n.search=t.single({path:"username",equals:e}).value(),i.query(n)},create:function(e){return new i(e)},save:function(e){return e.id?e.$update():e.$save()},remove:function(e){return e.$remove()}}})}(),function(){function e(){function e(e,t){for(var n=1,i=t;!i.esBase;)n*=i.cantidad,i=i.unidadContenida;return e*n}function t(e,t){for(var n=1,i=t;!i.esBase;)n*=i.cantidad,i=i.unidadContenida;return e/n}var n={toUnidadMedidaBase:e,fromUnidadMedidaBase:t};return n}angular.module("ui").factory("Util",e)}();